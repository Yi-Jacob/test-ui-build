"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[5625],{45625:(v,A,n)=>{n.r(A),n.d(A,{DfRegisterComponent:()=>O});var o,r=n(97582),i=n(56223),m=n(26306),M=n(58504),f=n(62651),h=n(81896),C=n(32296),e=n(2593),d=n(26385),_=n(41089),p=n(95195),c=n(96814),E=n(42346),T=n(78791),t=n(65879),x=n(75911),Z=n(99496);function l(u,a){if(1&u){const s=t.EpF();t.TgZ(0,"mat-card",2)(1,"df-alert",3),t.NdJ("alertClosed",function(){t.CHM(s);const P=t.oxw();return t.KtG(P.showAlert=!1)}),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-header")(4,"mat-card-title"),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t._UZ(7,"mat-divider"),t.TgZ(8,"mat-card-content")(9,"form",4),t.NdJ("ngSubmit",function(){t.CHM(s);const P=t.oxw();return t.KtG(P.register())}),t._UZ(10,"df-profile-details",5),t.TgZ(11,"button",6),t._uU(12),t.ALo(13,"transloco"),t.qZA()()()()}if(2&u){const s=t.oxw();t.xp6(1),t.Q6J("showAlert",s.showAlert)("alertType",s.alertType),t.xp6(1),t.Oqu(s.alertMsg),t.xp6(3),t.hij(" ",t.lcZ(6,6,"userManagement.register")," "),t.xp6(4),t.Q6J("formGroup",s.registerForm),t.xp6(3),t.hij(" ",t.lcZ(13,8,"userManagement.register")," ")}}function g(u,a){if(1&u&&(t.TgZ(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"transloco"),t.qZA()(),t._UZ(5,"mat-divider"),t.TgZ(6,"mat-card-content")(7,"h2"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t.TgZ(13,"div",7)(14,"a",8),t._uU(15),t.ALo(16,"transloco"),t.qZA()()()()),2&u){const s=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,5,"userManagement.registerSuccess.header")," "),t.xp6(5),t.Oqu(t.lcZ(9,7,"userManagement.registerSuccess.title")),t.xp6(3),t.Oqu(t.lcZ(12,9,"userManagement.registerSuccess.message")),t.xp6(3),t.Q6J("routerLink",s.loginRoute),t.xp6(1),t.Oqu(t.lcZ(16,11,"userManagement.login"))}}let O=((o=class{constructor(a,s,D){this.fb=a,this.systemConfigDataService=s,this.authService=D,this.alertMsg="",this.showAlert=!1,this.alertType="error",this.loginAttribute="email",this.complete=!1,this.loginRoute=`/${f.Z.AUTH}/${f.Z.LOGIN}`,this.registerForm=this.fb.group({profileDetailsGroup:this.fb.group({username:[""],email:["",[i.kI.email]],firstName:["",[i.kI.required]],lastName:["",[i.kI.required]],name:["",[i.kI.required]]})})}ngOnInit(){this.systemConfigDataService.environment$.subscribe(a=>{this.loginAttribute=a.authentication.loginAttribute,"username"===this.loginAttribute?this.registerForm.get("profileDetailsGroup.username")?.setValidators([i.kI.required]):this.registerForm.get("profileDetailsGroup.email")?.addValidators([i.kI.required])})}register(){this.registerForm.invalid||this.authService.register(this.registerForm.controls.profileDetailsGroup.value).pipe((0,m.K)(a=>(this.alertMsg=a.error.error.message,this.showAlert=!0,(0,M._)(()=>new Error(a))))).subscribe(()=>{this.showAlert=!1,this.complete=!0})}}).\u0275fac=function(a){return new(a||o)(t.Y36(i.qu),t.Y36(x.s),t.Y36(Z.i))},o.\u0275cmp=t.Xpm({type:o,selectors:[["df-register"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"user-management-card-container"],["class","user-management-card",4,"ngIf"],[1,"user-management-card"],[3,"showAlert","alertType","alertClosed"],["name","self-register-form",3,"formGroup","ngSubmit"],["formGroupName","profileDetailsGroup"],["mat-flat-button","","color","primary","type","submit"],[1,"action-links"],["mat-button","","target","_self",3,"routerLink"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0),t.YNc(1,l,14,10,"mat-card",1),t.YNc(2,g,17,13,"mat-card",1),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",!s.complete),t.xp6(1),t.Q6J("ngIf",s.complete))},dependencies:[c.O5,p.QW,p.a8,p.dn,p.dk,p.n5,_.v,d.t,d.d,i.UX,i._Y,i.JL,i.sg,i.x0,e.e,C.ot,C.zs,C.lW,h.rH,E.Ot],styles:[".user-management-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]{padding:16px;margin:0 auto;min-width:300px;max-width:445px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:16px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:16px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .services-section[_ngcontent-%COMP%]{padding-top:32px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .services-section[_ngcontent-%COMP%]   .services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:16px;gap:16px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   .action-links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),o);O=(0,r.gn)([(0,T.c)({checkProperties:!0})],O)},41089:(v,A,n)=>{n.d(A,{v:()=>d});var r=n(65879),i=n(96814),m=n(32296),M=n(45597),f=n(90590);function h(_,p){if(1&_){const c=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){r.CHM(c);const T=r.oxw(2);return r.KtG(T.dismissAlert())}),r.TgZ(1,"fa-icon",6),r._uU(2),r.qZA()()}if(2&_){const c=r.oxw(2);r.xp6(1),r.Q6J("icon",c.faXmark),r.xp6(1),r.Oqu("alerts.close")}}function C(_,p){if(1&_&&(r.TgZ(0,"div",1),r._UZ(1,"fa-icon",2),r.TgZ(2,"span",3),r.Hsn(3),r.qZA(),r.YNc(4,h,3,2,"button",4),r.qZA()),2&_){const c=r.oxw();r.Tol(c.alertType),r.xp6(1),r.Q6J("icon",c.icon),r.xp6(3),r.Q6J("ngIf",c.dismissible)}}const e=["*"];let d=(()=>{class _{constructor(){this.alertType="success",this.showAlert=!1,this.dismissible=!0,this.alertClosed=new r.vpe,this.faXmark=f.g82}dismissAlert(){this.alertClosed.emit()}get icon(){switch(this.alertType){case"success":return f.f8k;case"error":return f.$9F;case"warning":return f.RLE;default:return f.sqG}}}return _.\u0275fac=function(c){return new(c||_)},_.\u0275cmp=r.Xpm({type:_,selectors:[["df-alert"]],inputs:{alertType:"alertType",showAlert:"showAlert",dismissible:"dismissible"},outputs:{alertClosed:"alertClosed"},standalone:!0,features:[r.jDz],ngContentSelectors:e,decls:1,vars:1,consts:[["class","alert-container",3,"class",4,"ngIf"],[1,"alert-container"],["aria-hidden","true",1,"alert-icon",3,"icon"],["role","alert",1,"alert-message"],["mat-icon-button","","class","dismiss-alert",3,"click",4,"ngIf"],["mat-icon-button","",1,"dismiss-alert",3,"click"],[3,"icon"]],template:function(c,E){1&c&&(r.F$t(),r.YNc(0,C,5,4,"div",0)),2&c&&r.Q6J("ngIf",E.showAlert)},dependencies:[i.O5,m.ot,m.RK,M.uH,M.BN],styles:[".alert-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border:1px solid;border-radius:5px;box-shadow:0 0 5px #0003;color:#000}.alert-container[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1;padding:8px}.alert-container[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{padding:0 10px}.alert-container.success[_ngcontent-%COMP%]{border-color:#81c784;background-color:#c8e6c9}.alert-container.success[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#4caf50}.alert-container.error[_ngcontent-%COMP%]{border-color:#e57373;background-color:#ffcdd2}.alert-container.error[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#f44336}.alert-container.warning[_ngcontent-%COMP%]{border-color:#ffb74d;background-color:#ffe0b2}.alert-container.warning[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#ff9800}.alert-container.info[_ngcontent-%COMP%]{border-color:#64b5f6;background-color:#bbdefb}.alert-container.info[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#2196f3}"]}),_})()},2593:(v,A,n)=>{n.d(A,{e:()=>Z});var d,r=n(97582),i=n(96814),m=n(56223),M=n(64170),f=n(2032),h=n(42346),C=n(78791),e=n(65879);function _(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"userManagement.controls.username.errors.required")," "))}function p(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"userManagement.controls.email.errors.invalid")," "))}function c(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"userManagement.controls.email.errors.required")," "))}function E(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"userManagement.controls.firstName.errors.required")," "))}function T(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"userManagement.controls.lastName.errors.required")," "))}function t(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"userManagement.controls.displayName.errors.required")," "))}function x(o,l){1&o&&(e.TgZ(0,"mat-form-field",2)(1,"mat-label"),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e._UZ(4,"input",10),e.qZA()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"userManagement.controls.phone.label")))}let Z=((d=class{constructor(l){this.rootFormGroup=l}ngOnInit(){this.rootForm=this.rootFormGroup.control,this.rootFormGroup.ngSubmit.subscribe(()=>{this.rootForm.markAllAsTouched()})}controlExists(l){return null!==this.rootForm.get(l)}isRequired(l){return!!this.rootForm.get(l)?.hasValidator(m.kI.required)}}).\u0275fac=function(l){return new(l||d)(e.Y36(m.sg))},d.\u0275cmp=e.Xpm({type:d,selectors:[["df-profile-details"]],standalone:!0,features:[e.jDz],decls:35,vars:26,consts:[["name","user-details-section",3,"formGroup"],["formGroupName","profileDetailsGroup"],["appearance","fill"],["matInput","","type","text","formControlName","username"],[4,"ngIf"],["matInput","","type","email","formControlName","email"],["matInput","","type","text","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","name"],["appearance","fill",4,"ngIf"],["matInput","","formControlName","phone"]],template:function(l,g){if(1&l&&(e.ynx(0,0)(1,1),e.TgZ(2,"mat-form-field",2)(3,"mat-label"),e._uU(4),e.ALo(5,"transloco"),e.ALo(6,"transloco"),e.qZA(),e._UZ(7,"input",3),e.YNc(8,_,3,3,"mat-error",4),e.qZA(),e.TgZ(9,"mat-form-field",2)(10,"mat-label"),e._uU(11),e.ALo(12,"transloco"),e.qZA(),e._UZ(13,"input",5),e.YNc(14,p,3,3,"mat-error",4),e.YNc(15,c,3,3,"mat-error",4),e.qZA(),e.TgZ(16,"mat-form-field",2)(17,"mat-label"),e._uU(18),e.ALo(19,"transloco"),e.qZA(),e._UZ(20,"input",6),e.YNc(21,E,3,3,"mat-error",4),e.qZA(),e.TgZ(22,"mat-form-field",2)(23,"mat-label"),e._uU(24),e.ALo(25,"transloco"),e.qZA(),e._UZ(26,"input",7),e.YNc(27,T,3,3,"mat-error",4),e.qZA(),e.TgZ(28,"mat-form-field",2)(29,"mat-label"),e._uU(30),e.ALo(31,"transloco"),e.qZA(),e._UZ(32,"input",8),e.YNc(33,t,3,3,"mat-error",4),e.qZA(),e.YNc(34,x,5,3,"mat-form-field",9),e.BQk()()),2&l){let O,u,a,s,D,P;e.Q6J("formGroup",g.rootForm),e.xp6(4),e.AsE("",e.lcZ(5,14,"userManagement.controls.username.altLabel"),"",g.isRequired("profileDetailsGroup.username")?"":" "+e.lcZ(6,16,"userManagement.controls.username.optional"),""),e.xp6(4),e.Q6J("ngIf",null==(O=g.rootForm.get("profileDetailsGroup.username"))||null==O.errors?null:O.errors.required),e.xp6(3),e.hij(" ",e.lcZ(12,18,"userManagement.controls.email.label"),""),e.xp6(3),e.Q6J("ngIf",(null==(u=g.rootForm.get("profileDetailsGroup.email"))||null==u.errors?null:u.errors.email)&&!(null!=(u=g.rootForm.get("profileDetailsGroup.email"))&&null!=u.errors&&u.errors.required)),e.xp6(1),e.Q6J("ngIf",!(null!=(a=g.rootForm.get("profileDetailsGroup.email"))&&null!=a.errors&&a.errors.email)&&(null==(a=g.rootForm.get("profileDetailsGroup.email"))||null==a.errors?null:a.errors.required)),e.xp6(3),e.hij(" ",e.lcZ(19,20,"userManagement.controls.firstName.label"),""),e.xp6(3),e.Q6J("ngIf",null==(s=g.rootForm.get("profileDetailsGroup.firstName"))||null==s.errors?null:s.errors.required),e.xp6(3),e.Oqu(e.lcZ(25,22,"userManagement.controls.lastName.label")),e.xp6(3),e.Q6J("ngIf",null==(D=g.rootForm.get("profileDetailsGroup.lastName"))||null==D.errors?null:D.errors.required),e.xp6(3),e.Oqu(e.lcZ(31,24,"userManagement.controls.displayName.label")),e.xp6(3),e.Q6J("ngIf",null==(P=g.rootForm.get("profileDetailsGroup.name"))||null==P.errors?null:P.errors.required),e.xp6(1),e.Q6J("ngIf",g.controlExists("profileDetailsGroup.phone"))}},dependencies:[M.lN,M.KE,M.hX,M.TO,f.c,f.Nt,m.u5,m.Fj,m.JJ,m.JL,m.UX,m.sg,m.u,m.x0,h.Ot,i.O5],encapsulation:2}),d);Z=(0,r.gn)([(0,C.c)({checkProperties:!0})],Z)}}]);